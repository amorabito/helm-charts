---
# App settings
app:
  global:
    image: wger/server:latest
    imagePullPolicy: Always
    annotations: {}
    replicas: 1
  persistence:
    enabled: false
    storageClass: null
    accessModes:
      - ReadWriteMany
    size: 8Gi
    annotations: {}
    existingClaim:
      enabled: false
      media: null # if not set wger-media is taken
      static: null # if not set wger-static is taken
  resources:
    requests:
      memory: 128Mi
      cpu: 100m
    limits:
      memory: 512Mi
      cpu: 500m
  django:
    secret:
      name: null # if not set .Release.Name is set
      secretKey: null # if not set a random one is generated
  environment:
    - name: TIME_ZONE
      value: UTC
    - name: ENABLE_EMAIL
      value: "False"
    - name: EMAIL_BACKEND
      value: "django.core.mail.backends.console.EmailBackend"
    - name: EMAIL_HOST
      value: None
    - name: EMAIL_PORT
      value: 587
    - name: EMAIL_HOST_USER
      value: None
    - name: EMAIL_HOST_PASSWORD
      value: None
    - name: FROM_EMAIL
      value: test@test.com
    - name: WGER_USE_GUNICORN
      value: "False"
    - name: SYNC_EXERCISES_ON_STARTUP
      value: "False"
    - name: DOWNLOAD_EXERCISE_IMAGES_ON_STARTUP
      value: "False"
    - name: ALLOW_REGISTRATION
      value: "False"
    - name: ALLOW_GUEST_USERS
      value: "False"
    - name: CSRF_TRUSTED_ORIGINS
      value: "http://127.0.0.1,http://localhost,https://localhost"

ingress:
  enabled: false
  url: fit.example.com
  tls: true
  annotations: {}

service:
  annotations: {}
  type: ClusterIP
  port: 8000

# PostgreSQL Settings. Only the bare minimum has been specified below.
# For more options, see https://github.com/bitnami/charts/tree/master/bitnami/postgresql
postgresql:
  # Note: keep these variables present as the chart uses them for the Deployment
  global:
    postgresql:
      auth:
        database: wger
        username: wger
        password: wger
      service:
        ports:
          postgresql: 5432
    persistence:
      enabled: true
      mountPath: /bitnami/postgresql
      storageClass: ""
      accessModes:
        - ReadWriteOnce
      size: 8Gi

# Redis Settings. Only the bare minimum has been specified below.
# For more options, see https://github.com/bitnami/charts/tree/master/bitnami/redis
redis:
  # Note: keep these variables present as the chart uses them for the Deployment
  auth:
    password: wger
    enabled: false
    sentinel: true
  master:
    containerPort: 6379
    persistence:
      enabled: false
      path: /data
      storageClass: ""
      accessModes:
        - ReadWriteOnce
      size: 8Gi
